<div class="favorites-container">
  <ul class="list-group">
    @for (trial of favoriteTrials(); track trial.NCTId) {
      <li class="list-group-item d-flex align-items-center">
        <input
          class="form-check-input me-2"
          type="checkbox"
          #cb
          id="trial-{{trial.NCTId}}"
          [checked]="selectedFavorites().includes(trial.NCTId)"
          (change)="onFavoriteSelectionToggle(trial.NCTId, cb.checked)"
        />
        <label class="form-check-label flex-grow-1" for="trial-{{trial.NCTId}}">
          <span class="trial-title">{{ trial.BriefTitle }}</span>
          <span class="trial-status">Status: {{ trial.OverallStatus }}</span>
      </label>
      </li>
    } 
    @empty {
      <li class="list-group-item d-flex align-items-center">
        <span class="text-info">No favorite trials available</span>
      </li>
    }
  </ul>
  @if(favoriteTrials().length > 0) {
    <div class="batch-actions">
      <button class="btn btn-danger" (click)="onRemoveSelectedFavorites()">Remove Selected from Favorites</button>
    </div>
  }
</div>
